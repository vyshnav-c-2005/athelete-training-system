{% extends 'base.html' %}
{% load static %}

{% block content %}

<div class="wrapper" style="max-width: 1000px; margin: 30px auto;">
    <div class="card">

        <!-- HEADER -->
        <div class="header-box" style="
            background:#2f7d32;
            color:white;
            padding:18px;
            border-radius:8px;
            margin-bottom:20px;
        ">
            <h1 style="margin:0;">Coach Dashboard</h1>
            <p style="margin-top:5px;">Manage your athletes and track their progress.</p>

            <a href="{% url 'coach_assign_athlete' %}" style="
                   display:inline-block;
                   margin-top:10px;
                   padding:10px 16px;
                   background:white;
                   color:#2f7d32;
                   text-decoration:none;
                   font-weight:bold;
                   border-radius:8px;
               ">
                Assign New Athlete
            </a>
        </div>


        <!-- ATHLETE LIST -->
        <h3 style="border-bottom:1px solid #eee; padding-bottom:6px;">
            Assigned Athletes
        </h3>

        {% if athletes %}

        <table style="
            width:100%;
            border-collapse:collapse;
            background:white;
            border-radius:8px;
            overflow:hidden;
        ">
            <thead>
                <tr>
                    <th style="padding:12px; background:#f5f5f5; text-align:left;">Athlete Name</th>
                    <th style="padding:12px; background:#f5f5f5; text-align:left;">Sport</th>
                    <th style="padding:12px; background:#f5f5f5; text-align:left;">Status</th>
                    <th style="padding:12px; background:#f5f5f5; text-align:left;">Actions</th>
                </tr>
            </thead>

            <tbody>
                {% for athlete in athletes %}
                <tr>
                    <td style="padding:12px; border-bottom:1px solid #ddd;">
                        {{ athlete.user.username }}
                    </td>

                    <td style="padding:12px; border-bottom:1px solid #ddd;">
                        {{ athlete.sport|default:"â€”" }}
                    </td>

                    <td style="padding:12px; border-bottom:1px solid #ddd;">
                        <span style="
                            background:#c8e6c9;
                            color:#256029;
                            padding:5px 10px;
                            border-radius:6px;
                            font-size:12px;
                        ">
                            Active
                        </span>
                    </td>

                    <td style="padding:12px; border-bottom:1px solid #ddd;">
                        <a href="{% url 'coach_athlete_detail' athlete.pk %}" style="
                               background:#2f7d32;
                               color:white;
                               text-decoration:none;
                               padding:8px 12px;
                               border-radius:6px;
                               font-size:14px;
                           ">
                            View Profile
                        </a>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>

        {% else %}

        <div style="
            margin-top:20px;
            padding:20px;
            text-align:center;
            border:1px dashed #ccc;
            border-radius:8px;
        ">
            You have no athletes assigned yet.
        </div>

        {% endif %}

    </div>
</div>

{% endblock %}