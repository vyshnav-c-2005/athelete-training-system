{% extends 'base.html' %}

{% block title %}Assign Athletes{% endblock %}

{% block content %}
<div class="container" style="margin-top: 30px;">
    <h2>Assign Athletes</h2>
    <p>Select unassigned athletes to add to your roster.</p>

    {% if unassigned_athletes %}
    <table class="table" style="width: 100%; border-collapse: collapse; margin-top: 20px;">
        <thead>
            <tr style="background-color: #f8f9fa; text-align: left;">
                <th style="padding: 12px; border-bottom: 2px solid #dee2e6;">Username</th>
                <th style="padding: 12px; border-bottom: 2px solid #dee2e6;">Email</th>
                <th style="padding: 12px; border-bottom: 2px solid #dee2e6;">Sport</th>
                <th style="padding: 12px; border-bottom: 2px solid #dee2e6;">Action</th>
            </tr>
        </thead>
        <tbody>
            {% for athlete in unassigned_athletes %}
            <tr style="border-bottom: 1px solid #dee2e6;">
                <td style="padding: 12px;">{{ athlete.user.username }}</td>
                <td style="padding: 12px;">{{ athlete.user.email }}</td>
                <td style="padding: 12px;">{{ athlete.sport|default:"-" }}</td>
                <td style="padding: 12px;">
                    <form method="POST" style="display:inline;">
                        {% csrf_token %}
                        <input type="hidden" name="athlete_id" value="{{ athlete.id }}">
                        <button type="submit" class="btn primary"
                            style="padding: 6px 12px; background-color: #0d6efd; color: white; border: none; border-radius: 4px; cursor: pointer;">
                            + Add to Roster
                        </button>
                    </form>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    {% else %}
    <div class="alert alert-info"
        style="margin-top: 20px; padding: 15px; background-color: #cff4fc; border: 1px solid #b6effb; color: #055160; border-radius: 4px;">
        No unassigned athletes found at the moment.
    </div>
    {% endif %}

    <div style="margin-top: 20px;">
        <a href="{% url 'coach_dashboard' %}" class="btn">Back to Dashboard</a>
    </div>
</div>
{% endblock %}