{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Edit Profile | Athlete System</title>
    <link rel="stylesheet" href="{% static 'css/profile.css' %}">
</head>

<body>

    <!-- Navbar -->
    <header>
        <div class="container">
            <h1>Athlete System</h1>
            <nav>
                <ul>
                    {% if user.is_authenticated %}
                    <li><a href="{% url 'dashboard' %}">Dashboard</a></li>
                    <li><a href="{% url 'user_profile' %}" style="color: #0d47a1;">ðŸ‘¤ {{ user.username }}</a></li>
                    <li><a href="{% url 'logout' %}">Logout</a></li>
                    {% else %}
                    <li><a href="{% url 'login' %}">Login</a></li>
                    <li><a href="{% url 'signup' %}">Sign Up</a></li>
                    {% endif %}
                </ul>
            </nav>
        </div>
    </header>

    <!-- Content -->
    <div class="profile-wrapper">
        <div class="profile-card">

            <div class="profile-header">
                <div class="avatar-circle">
                    {{ user.username|make_list|first|upper }}
                </div>
                <h2>Edit Profile</h2>
                <p class="profile-email">Update your athlete details</p>
            </div>

            <form method="POST" action="{% url 'edit_profile' %}">
                {% csrf_token %}

                <div class="profile-details">
                    <div class="details-grid">

                        <!-- Gender -->
                        <div class="detail-item">
                            <label for="gender" class="detail-label">Gender</label>
                            <select name="gender" id="gender" class="form-control"
                                style="width: 100%; margin-top: 5px;">
                                <option value="" disabled {% if not profile.gender %}selected{% endif %}>Select Gender
                                </option>
                                <option value="Male" {% if profile.gender == "Male" %}selected{% endif %}>Male</option>
                                <option value="Female" {% if profile.gender == "Female" %}selected{% endif %}>Female
                                </option>
                                <option value="Other" {% if profile.gender == "Other" %}selected{% endif %}>Other</option>
                            </select>
                        </div>

                        <!-- Sport -->
                        <div class="detail-item">
                            <label for="sport" class="detail-label">Sport</label>
                            <input type="text" name="sport" id="sport" class="form-control" value="{{ profile.sport}}"
                                placeholder="e.g. 100m Sprint" style="width: 100%; margin-top: 5px;">
                        </div>

                        <!-- Date of Birth -->
                        <div class="detail-item">
                            <label for="date_of_birth" class="detail-label">Date of Birth</label>
                            <input type="date" name="date_of_birth" id="date_of_birth" class="form-control"
                                value="{{ profile.date_of_birth|date:'Y-m-d' }}" style="width: 100%; margin-top: 5px;">
                        </div>

                        <!-- Height -->
                        <div class="detail-item">
                            <label for="height_cm" class="detail-label">Height (cm)</label>
                            <input type="number" step="0.1" name="height_cm" id="height_cm" class="form-control"
                                value="{{ profile.height_cm|default:'' }}" placeholder="e.g. 175"
                                style="width: 100%; margin-top: 5px;">
                        </div>

                        <!-- Weight -->
                        <div class="detail-item">
                            <label for="weight_kg" class="detail-label">Weight (kg)</label>
                            <input type="number" step="0.1" name="weight_kg" id="weight_kg" class="form-control"
                                value="{{ profile.weight_kg|default:'' }}" placeholder="e.g. 70"
                                style="width: 100%; margin-top: 5px;">
                        </div>

                    </div>
                </div>

                <div class="profile-actions">
                    <button type="submit" class="btn btn-primary">Save Changes</button>
                    <a href="{% url 'user_profile' %}" class="btn btn-secondary">Cancel</a>
                </div>
            </form>

        </div>
    </div>

</body>

</html>